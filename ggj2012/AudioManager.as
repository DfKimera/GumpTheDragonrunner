package ggj2012 {		import flash.display.*;	import flash.media.*;	import flash.events.*;	import flash.net.*;		public class AudioManager extends MovieClip {				public var audioEnabled:Boolean = true;				public var cache:Array = new Array();		public var currentMusic:String = "";		public var currentMusicChannel:SoundChannel = new SoundChannel();				public var precacheList:Array = [								  "audio/music/blue_berry_banshee.mp3",								  "audio/music/griefing_gunners.mp3",								  "audio/sfx/scrolling.mp3",								  "audio/sfx/selection.mp3",								  "audio/sfx/taunt.mp3",								  "audio/sfx/coin.mp3",								  "audio/sfx/death.mp3"								  ]				public function AudioManager() {			for(var i in precacheList) {				PrecacheFile(precacheList[i]);			}		}				public function PlayOnce(file:String, skipVal:int = 0):SoundChannel {			if (!audioEnabled) { return null; }						PrecacheFile(file);						return cache[file].play(skipVal);		}				public function PlayMusic(file:String, skipVal:int = 0):void {			if (!audioEnabled) { return; }						if(currentMusic == file) {				return;			}						currentMusicChannel.stop();						PrecacheFile(file);			currentMusic = file;						currentMusicChannel = cache[file].play(skipVal,int.MAX_VALUE);		}				private function PrecacheFile(file:String):void {			trace("Precaching audio: " + file);			if(cache[file] == null) {				cache[file] = new Sound(new URLRequest(file), new SoundLoaderContext(1000,false));			}		}	}}